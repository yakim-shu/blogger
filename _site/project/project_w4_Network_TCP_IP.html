<!doctype html>
<html>

<head>

  <title>
    
      [第四週] 網路基礎 - TCP/IP | Yakim shu
    
  </title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="一般來說，普通使用者跟家用電腦大部分是浮動 IP，意指你每次連上網路的時候，IP 位置都會不一樣，別人還是可以連到這個 IP，只是這 IP 位置會隨再次上線時、有所變動。">
  <meta name="author" content="Yakim, toromilk80129@gmail.com">
  <meta name="robots" content="INDEX,FOLLOW">
  <!--og-->
  <meta property="og:title" content="[第四週] 網路基礎 - TCP/IP">
  <meta name="og:description" content="一般來說，普通使用者跟家用電腦大部分是浮動 IP，意指你每次連上網路的時候，IP 位置都會不一樣，別人還是可以連到這個 IP，只是這 IP 位置會隨再次上線時、有所變動。">
  <meta property="og:url" content="http://localhost:4000/project/project_w4_Network_TCP_IP.html">

    
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/syntax.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Quattrocento+Sans">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">

  <script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-77560722-1', 'auto');
  ga('send', 'pageview');

</script>


</head>


<body>

  <div class="container">
    <header class="masthead">
  <h3 class="masthead-title">
    <a href="/">Yakim shu</a>
    <small class="masthead-subtitle">Hi, 這是我擴充腦內海馬體的地方。</small>
    <div class="menu">
  <div class="menu-content">
    <a href="/category.html">分類文章</a>
    <a href="/writing.html">全文列表</a>
    <!-- <a href="/contacts.html">Contact</a> -->
  </div>
  <div class="social-icons">
    <a href="https://www.facebook.com/yakimshu"><i class="fa fa-facebook" aria-hidden="true" target="_blank"></i></a>
    <a href="https://linkedin.com/in/yakimshu"><i class="fa fa-linkedin" aria-hidden="true" target="_blank"></i></a>
    <a href="mailto:toromilk80129@gmail.com"><i class="fa fa-envelope" aria-hidden="true" target="_blank"></i></a>
  </div>
</div>

  </h3>
</header>


    <div class="post-container story">
      <h1>
  [第四週] 網路基礎 - TCP/IP
</h1>



<h2 id="tcpip-是什麼">TCP/IP 是什麼？</h2>
<p><img src="https://arch-long.cn/assets/tcp_ip.png" alt="OSI模型、TCP/IP协议栈" /></p>

<p>( 圖片來源： <a href="https://arch-long.cn/articles/network/OSI模型TCPIP协议栈.html">OSI模型、TCP/IP协议栈</a> )</p>

<p>TCP/IP 模型 ( 圖片中間 ) 分成四層，簡化至 OSI 的七層（ 圖片左邊 ），從上至下分別是：</p>

<ul>
  <li>應用層 Application : <code class="highlighter-rouge">HTTP</code>, <code class="highlighter-rouge">HTTPS</code>, <code class="highlighter-rouge">FTP</code>,<code class="highlighter-rouge">DNS</code> …</li>
  <li>傳輸層 Transport : <code class="highlighter-rouge">TCP</code>, <code class="highlighter-rouge">UDP</code></li>
  <li>網路層 Internet : <code class="highlighter-rouge">IPv4</code>, <code class="highlighter-rouge">IPv6</code></li>
  <li>網路訪問層 Network Access : <code class="highlighter-rouge">乙太網路</code>、<code class="highlighter-rouge">Wi-Fi</code></li>
</ul>

<p>所以可以看出來， HTTP 協議（ 應用層 ）是建立在 TCP（ 傳輸層 ）之上，
而 TCP 是建立在 IP 位置（ 網路層 ）之上…</p>

<hr />
<h2 id="ip-地址">IP 地址</h2>

<p>IP 全名為 Internet Protocol，中文為「 網際網路協定 」。用於網路交換封包的一種協定，它定義了定址方式及資料的封裝結構。</p>

<p>而 IP 協議的版本也有分為 IPv4 與 IPv6，最主要的差異在於，新版的 IPv6解決了 IPv4 地址不夠用的問題，有興趣了解更多的可以參考這篇：<a href="https://www.ithome.com.tw/tech/92046">認識IPv4與IPv6的差異</a></p>

<p>而常聽到的 IP 地址，就是你在網路上的地址，別人可以從這個地址訪問到你的電腦，其中又分為很多種類型。</p>

<h3 id="虛擬-ip浮動-ip固定-ip-">虛擬 IP、浮動 IP、固定 IP ?</h3>

<h4 id="固定-ip">固定 IP</h4>
<p>可以當成每一台電腦都有一個 IP 位置（ 理想狀態下 ），顧名思義這 IP 位置是固定、不會變的，<strong>基本上伺服器都跟公司企業是用固定 IP</strong>，這樣才能保證使用者可以連上伺服器，不會突然找不到。</p>

<h4 id="浮動-ip">浮動 IP</h4>
<p><strong>一般來說，普通使用者跟家用電腦大部分是浮動 IP</strong>，意指你每次連上網路的時候，IP 位置都會不一樣，別人還是可以連到這個 IP，只是這 IP 位置會隨再次上線時、有所變動，好處如下：</p>
<ul>
  <li>IP 位置不夠用，寶貴資源留給網路主機</li>
  <li>每次連線的 IP 位置都不同，所以就算洩露 IP 位置，也不會被駭客輕易攻擊</li>
</ul>

<h4 id="虛擬-ip">虛擬 IP</h4>

<p>在內網底下才可以互相連接，外網是連不上的，所以內網 IP 位置是可以重複的。但對外網而言，一定會有一個 <strong>固定 or 浮動的</strong> IP 位置。</p>

<p><img src="https://i.imgur.com/jldDuJZ.jpg" alt="螢幕快照 2019-05-06 下午9.08.24" width="500" /></p>

<p>（ 圖片取自課程投影片 ）</p>

<p>如果想要查詢自己內網的對外 IP，可以用 myip 當關鍵字，搜尋一些網頁服務。</p>

<blockquote>
  <p>通常以 <code class="highlighter-rouge">192.168</code> 或 <code class="highlighter-rouge">10.0</code> 開頭的，都是虛擬 IP、也就是內網 IP，外網是連不進來的。</p>
</blockquote>

<p>參考資料：</p>
<ul>
  <li><a href="https://ithelp.ithome.com.tw/questions/10000796">浮動 IP 與 固定 IP 有何不同?? 各有何優缺點??</a></li>
</ul>

<hr />
<h3 id="port-連接埠-端口-">Port 連接埠（ 端口 ）</h3>

<blockquote>
  <p>localhost<strong>:5000</strong> ← Port</p>
</blockquote>

<p>同一個電腦上可能有對應到不同的服務，所以用 Port 來區別，接收不同的服務請求，例如上篇文章：<a href="https://yakimhsu.com/project/project_w4_Network_http.html">[第四週] 網路基礎 - HTTP、Request、Response</a>，製作的簡易 Server，就是監聽 <code class="highlighter-rouge">5000</code> 這個 port。</p>

<p>那如果沒有輸入 port 的話，也會有一些預設或常用值，如以下：</p>
<ul>
  <li>HTTP: <code class="highlighter-rouge">80</code></li>
  <li>HTTPS: <code class="highlighter-rouge">443</code></li>
  <li>FTP: <code class="highlighter-rouge">21</code></li>
  <li>「 測試 」常用：<code class="highlighter-rouge">3000</code>、<code class="highlighter-rouge">4000</code>、<code class="highlighter-rouge">8080</code>、<code class="highlighter-rouge">8000</code></li>
</ul>

<hr />
<h3 id="tcp--udp">TCP &amp; UDP</h3>

<p>TCP 與 UDP 指的是傳輸層的兩個協議。</p>

<ul>
  <li><strong>TCP</strong> : 大部分的網路協定，都是建立在 TCP 上面，因為是<strong>比較可靠</strong>的方式。</li>
  <li>UDP : 有時候的需求是傳輸快速、並不是穩定的情況下，就會使用 UDP，常見的情況可能是用於「 視訊 」（ 需要快速、重複傳送資料 ）</li>
</ul>

<h3 id="三次握手">三次握手</h3>

<p>TCP 連接之所以比較可靠，是因為會先進行三次握手的動作，可以看下圖：</p>

<p>（ 查了一下資料，其實很過程很複雜，這圖可能不是很正確，底下舉例更是我在自由發揮，就當做是幫助理解觀念 ）</p>

<ul>
  <li>第一握： Client 向 Server 說：「 早安！ 」</li>
  <li>第二握： Server 回覆 Client 說：「 中午了什麼早安。 」</li>
  <li>第三握： Client 再向 Server 說：「 我每天都睡到中午麻。欸好啦我確定訊號穩定了，所以可以開始討論今天要去哪玩了嗎？ 」</li>
</ul>

<p><img src="https://camo.githubusercontent.com/91cee189ca7c400e3be6aa35cdda000ecbb58930/687474703a2f2f6f6f327239726e7a702e626b742e636c6f7564646e2e636f6d2f3630363537332d32303137303331373139313333363933322d313635343735313132332e706e67" alt="三次握手" width="700" /></p>

<p>（ 圖片來源：<a href="https://github.com/jawil/blog/issues/14">通俗大白话来理解TCP协议的三次握手和四次分手</a> ）</p>

<p>參考資料：</p>
<ul>
  <li><a href="https://www.zhihu.com/question/24853633">TCP 为什么是三次握手，而不是两次或四次？</a> （ 底下有個回答說這種簡單類比都是錯的，相信看完全文會了然於心。對自己耐心有自信的人可以挑戰看看，反正我是看不下去… ）</li>
</ul>

<h2 id="結論">結論</h2>

<p>複習一下，文章最上方的 TCP/IP 四層模型，其實就是<strong>各個抽象層級的不同協定</strong>：</p>

<ul>
  <li><strong>傳輸的資料內容</strong>： <code class="highlighter-rouge">HTTP</code>, <code class="highlighter-rouge">FTP</code></li>
  <li><strong>傳輸的方式</strong>： <code class="highlighter-rouge">TCP</code>, <code class="highlighter-rouge">UDP</code></li>
  <li><strong>傳輸的地址</strong>： <code class="highlighter-rouge">IP</code></li>
  <li><strong>實體傳輸</strong>： <code class="highlighter-rouge">乙太網路</code>、<code class="highlighter-rouge">Wi-Fi</code>、<code class="highlighter-rouge">MPLS</code> 等等</li>
</ul>


<span class="post-date">
  Written on
  
  May
  6th,
  2019
  by Yakim shu
</span>
<div class="post-date">Feel free to share!</div>
  <div class="sharing-icons">
    <a href="https://twitter.com/intent/tweet?text=[第四週] 網路基礎 - TCP/IP&amp;url=/project/project_w4_Network_TCP_IP.html&amp;via=" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i></a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=/project/project_w4_Network_TCP_IP.html&amp;title=[第四週] 網路基礎 - TCP/IP" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i></a>
    <a href="https://plus.google.com/share?url=/project/project_w4_Network_TCP_IP.html" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i></a>
  </div>
</div>


<div class="related">
  <h1 >You may also enjoy:</h1>
  
  <ul class="related-posts">
    
      
        
        
      
    
      
        
        
      
    
      
        
          <li>
            <h3>
              <a href="/project/project_w4_report.html">
                [第四週] 學習日誌
                <!--<img src="http://localhost:4000/images/">-->
                <!--<small>May 6, 2019</small>-->
              </a>
            </h3>
          </li>
          
        
      
        
          <li>
            <h3>
              <a href="/project/project_w4_Network_http.html">
                [第四週] 網路基礎 - HTTP、Request、Response
                <!--<img src="http://localhost:4000/images/">-->
                <!--<small>May 6, 2019</small>-->
              </a>
            </h3>
          </li>
          
        
      
        
        
      
    
  </ul>
</div>


<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://yakimshu.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script id="dsq-count-scr" src="//yakimshu.disqus.com/count.js" async></script>

    </div>

    <footer class="footer">
  <a href="https://www.facebook.com/yakimshu"><i class="fa fa-facebook" aria-hidden="true" target="_blank"></i></a>
  <a href="https://linkedin.com/in/yakimshu"><i class="fa fa-linkedin" aria-hidden="true" target="_blank"></i></a>
  <a href="mailto:toromilk80129@gmail.com"><i class="fa fa-envelope" aria-hidden="true" target="_blank"></i></a>
  <div class="post-date"><a href="/about.html">Yakim shu | Hi, 這是我擴充腦內海馬體的地方。 by Yakim shu</a></div>
</footer>


  </div>

</body>
</html>
