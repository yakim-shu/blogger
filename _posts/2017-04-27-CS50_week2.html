<html>
      <head>
        <meta charset="UTF-8">
        <title>2017-04-27-CS50_week2.markdown</title>
      </head>
      <body>
        <hr>
<p>layout: post
title: &quot;【心得】CS50 - week 2&quot;
description: &quot;&quot;
category: CS50
image: <a href="http://i.imgur.com/ag930Yh.png">http://i.imgur.com/ag930Yh.png</a></p>
<h2 id="tags-cs50-">tags: [CS50]</h2>
<p>Week 2 主要課程素材 : </p>
<ul>
<li><a href="https://video.cs50.net/2016/fall/lectures/2">課程視頻</a>{:target=&quot;_blank&quot;}</li>
<li><a href="http://docs.cs50.net/2016/fall/notes/2/week2.html">課程文檔</a>{:target=&quot;_blank&quot;}</li>
<li><a href="http://docs.cs50.net/2017/x/psets/2/pset2.html">作業</a>{:target=&quot;_blank&quot;}</li>
</ul>
<p>助教課程：</p>
<ul>
<li><a href="https://www.youtube.com/embed/jtuMIHebSu8?autoplay=1&amp;rel=0">陳述式 - functions</a></li>
<li><a href="https://www.youtube.com/embed/pBqyy8NwzqY?autoplay=1&amp;rel=0">變數及作用範圍 - Variables and Scope</a></li>
<li><a href="https://www.youtube.com/embed/7EdaoE46BTI?autoplay=1&amp;rel=0">陣列 - Arrays</a></li>
<li><a href="https://www.youtube.com/embed/eDI5Wqjq2a0?autoplay=1&amp;rel=0">命令列引數 - Command Line Arguments</a></li>
<li><a href="https://www.youtube.com/embed/z_Nh9yt4d_s?autoplay=1&amp;rel=0">神奇的數字 - Magic Numbers</a></li>
</ul>
<hr>
<h2 id="-">加密</h2>
<p>這節開始談到如何加密一段文字。</p>
<p>最簡單的加密方法就是給一段<strong>原始資料</strong>，透過神秘的<strong>key(金鑰)</strong>，組成一段難以閱讀的<strong>新資料</strong>。</p>
<p><img src="http://i.imgur.com/KLyoxPR.png" alt="加密"></p>
<p>反過來說，你拿到一段加密後的資料，只要有正確的金鑰，就可以還原成原始資料。</p>
<p>在做簡單加密之前，我們先完成一系列小任務：</p>
<ul>
<li>印出一個字串</li>
<li>印出此字串裡的每個字母</li>
<li>把每個字母轉換成 ascii 碼</li>
<li>對 ascii 碼做某種運算</li>
<li>把 ascii 碼轉換回字母</li>
</ul>
<hr>
<h3 id="-">印出字串</h3>
<p>現在來試著加密一個單詞，首先印出原始字串。</p>
<p>寫一段簡單的程式，讓使用者輸入一個詞，並印出來。</p>
<p>假如我輸入 <code>yakim</code>，印出 <code>hello, yakim</code></p>
<pre><code class="lang-c">#include &lt;cs50.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    string s = get_string();
    printf(&quot;hello, %s\n&quot;, s);
}
</code></pre>
<hr>
<h3 id="-">印出此字串裡的每個字母</h3>
<p>接著我們把字串拆開來看，分成一個一個字符：<code>y</code>、<code>a</code>、<code>k</code>、<code>i</code>、<code>m</code></p>
<pre><code class="lang-c">#include &lt;cs50.h&gt;
#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    string s = get_string();
    for (int i=0; i&lt;strlen(s); i++) // 註(1)
    {
        printf(&quot;%c\n&quot;, s[i]); // 註(2)
    }
}
</code></pre>
<blockquote>
<p>(1)： strlen → string.h 的函數，會回傳字串的長度。<br>(2)： s[i] → 把字串當成一個陣列，列出第 i 個字符。</p>
</blockquote>
<hr>
<h3 id="-ascii">轉換 ASCII</h3>
<p>好玩的部分來了，還記的 <a href="CS50_week0.html">week 0 提到的 ASCII</a> 嗎?</p>
<p>現在把字母轉成 ASCII ，再進行某種算式，接著再轉換回字母。</p>
<p>登愣!!!簡單加密就完成了~~</p>
<p><img src="http://i.imgur.com/d7sie6T.png" alt="ASCII"></p>
<p>參照上圖，可以看到<br><strong>065 - 090 → 是大寫的 A ~ Z</strong><br><strong>097 - 122 → 是小寫的 a ~ z</strong></p>
<hr>
<p>來印出 大寫 A ~ Z 的數字對照表</p>
<pre><code class="lang-c">#include &lt;stdio.h&gt;

int main(void)
{
    for (int i = 65; i&lt; 65 + 26; i++)
    {
        printf(&quot;%c is %i\n&quot;, i, i);
    }
}
// 結果：
// A is 65
// B is 66
// C is 67
// ....
</code></pre>
<p>還可以更神奇的用字元來做 for loop，兩邊結果是一樣的。</p>
<pre><code class="lang-c">#include &lt;stdio.h&gt;

int main(void)
{
    for (char c = &#39;A&#39;; c &lt;= &#39;Z&#39;; c++)
    {
        printf(&quot;%c is %i\n&quot;, c, c);
    }
}
// 結果：
// A is 65
// B is 66
// C is 67
// ....
</code></pre>
<hr>
<h3 id="-">小練習：小寫轉大寫</h3>
<p>寫一個小程式，讓使用者輸入的單字轉為大寫</p>
<pre><code class="lang-c">#include &lt;cs50.h&gt;
#include &lt;ctype.h&gt;
#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    string s = get_string();
    if (s != NULL)
    {
        for (int i = 0, n = strlen(s); i &lt; n; i++)
        {
            if (s[i] &gt;= &#39;a&#39; || s[i] &lt;= &#39;z&#39;)
            {
                // 3種寫法都一樣
                // 1. printf(&quot;%c&quot;, s[i] - 32);
                // 2. printf(&quot;%c&quot;, s[i] - (&#39;a&#39; - &#39;A&#39;));
                // 3.
                printf(&quot;%c&quot;, toupper(s[i]));
            }
            else
            {
                printf(&quot;%c&quot;, s[i]);
            }
        }
    }
}
</code></pre>
<p>或者，不需要用if else判斷，直接全部轉大寫即可</p>
<pre><code class="lang-c">#include &lt;cs50.h&gt;
#include &lt;ctype.h&gt;
#include &lt;string.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    string s = get_string();
    if (s != NULL)
    {
        for (int i = 0, n = strlen(s); i &lt; n; i++)
        {
            printf(&quot;%c&quot;, toupper(s[i]));
        }
    }
}
</code></pre>
<hr>
<h3 id="-">了解字串</h3>
<p>字串的本質是由<strong>字元</strong>所組成的<strong>陣列</strong>。</p>
<p>假設有一個 32 byte 的記憶體位置，放入一個 <code>Zamyla</code> 的字串。</p>
<p><img src="http://i.imgur.com/oNmzdt8.png" alt="Zamyla"></p>
<p>假如再加入另一個的字串 <code>Andi</code>，那電腦要如何得知這它們之間的斷點呢?</p>
<p>所以在結束一個字串後，會自動加上 <strong><code>\0</code></strong> 的字元，當做此字串的結束。</p>
<p><img src="http://i.imgur.com/ag930Yh.png" alt="Zamyla&amp;Andi"></p>
<p>那知道了字串後面都會帶有 <code>\0</code> 能做到什麼勒~</p>
<p>還記得剛剛計算字串長度的 <code>strlen</code> 函式嗎?</p>
<p>我們可以把剛剛的練習改寫得更簡單!!</p>
<pre><code class="lang-c">#include &lt;cs50.h&gt;
#include &lt;ctype.h&gt;
#include &lt;stdio.h&gt;

int main(void)
{
    string s = get_string();
    int n = 0;
    while (s[n] != &#39;\0&#39;)
    {
        printf(&quot;%c&quot;, toupper(s[n]));
        n++;
    }
}
</code></pre>
<p>看以上程式，我甚至不用調用 <code>strlen</code> 來取出字串長度，只要判斷它還沒讀到 <strong><code>\0</code></strong>就持續印出。</p>
<hr>
<h2 id="-">作業</h2>
<h3 id="initials-c">initials.c</h3>
<h4 id="-">說明</h4>
<ul>
<li>使用者隨意輸入一英文名字</li>
<li>輸出首字大寫</li>
</ul>
<h4 id="-">範例</h4>
<p><img src="http://i.imgur.com/1idCiDE.png" alt="initials.c"></p>
<h4 id="-">解題</h4>
<pre><code class="lang-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;ctype.h&gt;
#include &lt;cs50.h&gt;
#include &lt;string.h&gt;

int main()
{
    string name = GetString();
    int counter = strlen(name);
    int n = 0;
    int nUpper = 0;
    char c;
    // 遍歷所有字元
    while( n &lt; counter)
    {
        if ( n == nUpper ){
            c = toupper(name[n]); // 轉大寫
            printf(&quot;%c&quot;, c);
        }
        else if ( name[n] == &#39; &#39; ) // 當遇到空白鍵，向後算一位
        {
            nUpper = n+1;
        }
        n++;
    }
    printf(&quot;\n&quot;);
}
</code></pre>
<hr>
<h3 id="caesar-c">caesar.c</h3>
<h4 id="-">說明</h4>
<p>加密文字</p>
<h4 id="-">步驟</h4>
<ul>
<li>輸入一字串及一數字</li>
<li>換成ascii碼，再加上剛輸入的數字</li>
<li>輸出成加密文字</li>
</ul>
<h4 id="-">解題</h4>
<pre><code class="lang-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;ctype.h&gt;
#include &lt;cs50.h&gt;
#include &lt;string.h&gt;


int main(int argc, string argv[])
{


    if ( !(argc==2) )
    {
        printf(&quot;We require an integer as encryption key.\n&quot;);
        return 1;
    }
    else
    {
        // 把第2個參數字串轉成數字
        int iNum = atoi(argv[1]);

        printf(&quot;plaintext: &quot;);
        string name = GetString();

        int sLen = strlen(name);
        char sChar[sLen];
        printf(&quot;ciphertext: &quot;);

        for (int i=0; i&lt;sLen; i++)
        {
            sChar[i] = name[i]; 
            if (iNum &gt; 26)
            {
                iNum = iNum % 26;
            }
            if ( isupper(sChar[i]) &amp;&amp; (sChar[i]+iNum) &gt; 90) // 大寫超過
            {
                printf(&quot;%c&quot;, sChar[i]+iNum-26);
            }
            else if ( islower(sChar[i]) &amp;&amp; (sChar[i]+iNum) &gt; 122) // 小寫超過
            {
                printf(&quot;%c&quot;, sChar[i]+iNum-26);
            }
            else if ( sChar[i]+iNum &lt; 65 || sChar[i]+iNum &gt; 122 ) // 非字母
            {
                printf(&quot;%c&quot;, sChar[i]);
            }
            else
            {
                printf(&quot;%c&quot;, sChar[i]+iNum);
            }
        }
        printf(&quot;\n&quot;);
    }
}
</code></pre>
<h3 id="vigenere-c">vigenere.c</h3>
<h4 id="-">說明</h4>
<p>加密文字</p>
<h4 id="-">步驟</h4>
<ul>
<li>輸入一字串</li>
<li>把字串轉換成ascii碼</li>
<li>輸入需要加密的文字</li>
<li>輸出成加密文字</li>
</ul>
<h4 id="-">解題</h4>
<pre><code class="lang-c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;ctype.h&gt;
#include &lt;cs50.h&gt;
#include &lt;string.h&gt;


int main(int argc, string argv[])
{
    if ( !(argc==2))
    {
        printf(&quot;We require an integer as encryption key.\n&quot;);
        return 1;
    }
    else
    {
        // 把第2個參數字串轉成數字
        string sNum = argv[1];
        int sNumLen = strlen(sNum);
        int a[sNumLen];
        //取出字串，轉換成數字
        for (int j=0; j&lt;sNumLen; j++)
        {
            if (isupper(sNum[j]))
            {
                a[j] = sNum[j]-65;
            }
            else if ( islower(sNum[j]) )
            {
                a[j] = sNum[j]-97;
            }else if ( isdigit(sNum[j]) )
            {
                printf(&quot;We require an integer as encryption key.\n&quot;);
                return 1;
            }
        }

        printf(&quot;plaintext: &quot;);
        string name = GetString();
        int sLen = strlen(name);
        char sChar[sLen];

        printf(&quot;ciphertext: &quot;);
        int n = 0;
        for (int i=0; i&lt;sLen; i++)
        {
            sChar[i] = name[i]; 
            while ( n == sNumLen )
            {
                n = 0;
            }

            if ( isupper(sChar[i]) &amp;&amp; (sChar[i]+a[n]) &gt; 90) // 大寫超過
            {
                printf(&quot;%c&quot;, sChar[i]+a[n]-26);
            }
            else if ( islower(sChar[i]) &amp;&amp; (sChar[i]+a[n]) &gt; 122) // 小寫超過
            {
                printf(&quot;%c&quot;, sChar[i]+a[n]-26);
            }
            else if ( sChar[i] &lt; 65 || sChar[i] &gt; 122 ) // 非字母
            {
                n--;
                printf(&quot;%c&quot;, sChar[i]);
            }
            else
            {
                printf(&quot;%c&quot;, sChar[i]+a[n]);
            }
            n++;
        }
        printf(&quot;\n&quot;);
    }
}
</code></pre>

      </body>
    </html>